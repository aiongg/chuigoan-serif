<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="style3.css" type="text/css" charset="utf-8" />
  </head>
  <body>
  <main class="container">
    <div>
      <h1 class="demo-text">Pe̍h-ōe-jī chán ŏ͘!</h1>
      <h1 class="demo-text italic">Pe̍h-ōe-jī chán ŏ͘!</h1>
    </div>
    <div class="controls">
      <!-- Weight Controls -->
      <div class="slider-container">
        <input type="range" min="100" max="900" value="500" class="slider" id="text-weight" name="text-weight" data-index="0">
        <div class="slider-controls">
          <label for="text-weight" class="slider-label">
            Weight: <span class="output" data-index="0"></span>   
          </label>
          <button class="button" data-index="0">
            Reset
          </button>
        </div>
      </div>
      <!-- Width Controls -->
      <div class="slider-container">
        <input type="range" min="8" max="60" value="20" class="slider" id="text-opsz" name="text-opsz" data-index="1">
        <div class="slider-controls">
          <label for="text-opsz" class="slider-label">
            Optical Size: <span class="output" data-index="1"></span>  
          </label>
          <button class="button" data-index="1">
            Reset
          </button>
        </div>
      </div>
      <!-- Slant Controls -->
      <div class="slider-container">
        <input type="range" min="12" max="72" value="48" class="slider" id="text-size" name="text-size" data-index="2">
        <div class="slider-controls">
          <label for="text-size" class="slider-label">
            Text Size: <span class="output" data-index="2"></span>  
          </label>
          <button class="button" data-index="2">
            Reset
          </button>
        </div>
      </div>
    </div>
  </main>

  <script>
    const container = document.querySelector(".container");
    const sliders = document.querySelectorAll(".slider");
    const sliderValues = document.querySelectorAll(".output");
    const buttons = document.querySelectorAll(".button");

    // Display property values
    for (let i = 0; i < sliders.length; i++) {
      sliderValues[i].innerHTML = sliders[i].value;
    }

    // Update text property and displayed property value for each slider
    sliders.forEach(slider => {
        const sliderIndex = slider.getAttribute("data-index");
        const output = document.querySelector(`.output[data-index="${sliderIndex}"]`);
        slider.oninput = function() {
          container.style.setProperty(`--${this.id}`, this.value);
          output.innerHTML = this.value;
        };
      });

    // Reset text property and update display property value for each slider
    buttons.forEach(button => {
      const buttonIndex = button.getAttribute("data-index");
      const resetOutput = document.querySelector(
        `.output[data-index="${buttonIndex}"]`
      );
      const resetSlider = document.querySelector(
        `.slider[data-index="${buttonIndex}"]`
      );
      button.onclick = function() {
        container.style.removeProperty(`--${resetSlider.id}`);
        resetOutput.innerHTML = resetSlider.defaultValue;
        resetSlider.value = resetSlider.defaultValue;
        console.log(resetSlider.defaultValue);
      };
    });

  </script>

  </body>
</html>
